@startuml
title Діаграма А.2 Сценарій створення акредитива — покупець

actor Покупець
participant TFXWeb
participant "Сервіс UI" as UIService
participant "Менеджер контрактів" as ContractManager
participant "Менеджер зборів\nта комісій" as FeesManager
participant "Менеджер документів" as DocManager
participant "Сховище документів" as DocStore

Покупець -> TFXWeb: створити новий акредитив
TFXWeb -> UIService: новий акредитив (ID Покупця)
UIService -> ContractManager: новий акредитив (ID Покупця)
ContractManager -->> UIService: необхідні дані для акредитива (L/C789)
UIService -->> TFXWeb: необхідні дані для акредитива (L/C789)
TFXWeb -->> Покупець: введіть необхідні дані

Покупець -> TFXWeb: оновити акредитив (L/C789)
TFXWeb -> UIService: оновити акредитив (L/C789)
UIService -> ContractManager: оновити акредитив (L/C789)

activate ContractManager
ContractManager -> ContractManager: виконати правила валідації акредитива
ContractManager -> FeesManager: отримати збори та комісії
ContractManager -> DocManager: отримати шаблон акредитива (Тип L/C)
DocManager -->> ContractManager: Шаблон акредитива
deactivate ContractManager

ContractManager -->> UIService: заповнений шаблон акредитива (L/C789)
UIService -->> TFXWeb: заповнений шаблон акредитива (L/C789)

Покупець -> TFXWeb: затвердити акредитив
TFXWeb -> UIService: затвердити акредитив (L/C789)
UIService -> ContractManager: затвердити акредитив (L/C789)
ContractManager -> DocManager: зберегти акредитив (L/C789)
DocManager -> DocStore: зберегти акредитив (L/C789)

activate ContractManager
ContractManager -> ContractManager: встановити статус сповіщення для Продавця
deactivate ContractManager

hide footbox

@enduml